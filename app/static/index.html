<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>YOLO Demo</title>
</head>
<body>
  <h1>YOLO Inference</h1>
  <form id="upload-form">
    <input type="file" name="file" accept="image/*" required/>
    <button type="submit">Run YOLO</button>
  </form>
  <div id="result">
    <h2>Result:</h2>
    <img id="out-img" src="" alt="Processed image" style="max-width: 100%;"/>
  </div>

  <script>
  const form = document.getElementById('upload-form');
  form.addEventListener('submit', async e => {
    e.preventDefault();
    const res = await fetch('/upload', { method: 'POST', body: new FormData(form) });
    const json = await res.json();
    if (json.image_data) {
      document.getElementById('out-img').src = json.image_data;
    } else {
      alert('Error: ' + (json.error || 'unknown'));
    }
  });
  </script>
</body>
</html>
